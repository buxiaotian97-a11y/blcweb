<!doctype html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Black Company Simulator | Home</title>
  
  <link rel="stylesheet" th:href="@{/css/home-back.css}" href="/css/home-back.css">
  <link rel="stylesheet" th:href="@{/css/home-button.css}" href="/css/home-button.css">
  <link rel="stylesheet" th:href="@{/css/button.css}" href="/css/button.css">
  <link rel="stylesheet" th:href="@{/css/font.css}" href="/css/font.css">
  <link rel="stylesheet" th:href="@{/css/scroll.css}" href="/css/scroll.css">

</head>
<body>
  <main class="stage" aria-label="ãƒ›ãƒ¼ãƒ ç”»é¢">
    <div class="salaryman" aria-hidden="true"></div>
    <div class="scanlines" aria-hidden="true"></div>

    <div class="wrap">

      <section class="home-grid layout-v2" aria-label="ãƒ›ãƒ¼ãƒ UI">

        <!-- éƒ¨ç½²ï¼‹åå‰ã®ãƒ—ãƒ¬ãƒ¼ãƒˆ -->
        <header class="nameplate font2">
          <div class="dept font2" th:text="${user.department}"></div>
          <div class="uname font2" th:text="${user.name}"></div>
		  <aside class="level-stack dial-mode">
		  		  <div class="lv font2">Lv.<span th:text="${user.level}">1</span></div>
        </header>
		
		<div class="rb-actions">
		  <a class="btn small ghost font2" th:href="@{/mode}" href="/mode">è¨ºã€€æ–­</a>
		  <div class="img-wrap locked">
		  <img src="/images/lock.png" class="overlay-img-small" />
		  <a class="btn small ghost font2" th:href="@{/game}" href="/game">
			å‡ºã€€å‹¤</a>
            </div>
		</div>

        <!-- ä¸­å¤®ï¼šã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ -->
        <div class="center-char">
          <div class="char font2">
            <img th:src="@{${user.character} == 'restaurant' ? '/images/restaurant.png' : '/images/sarari-men.png'}" src="/images/sarari-men.png" alt="ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼">
          </div>
        </div>

		<!-- å³ä¸Šãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ -->
		<details class="hamburger at-tr" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
		  <summary class="hambtn font2" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã">
		    <span class="bars" aria-hidden="true"></span>
		  </summary>

		  <!-- ã“ã“ãŒâ€œçœŸä¸‹ã«â€å±•é–‹ã•ã‚Œã‚‹ -->
		  <nav class="list">
			<a class="" href="/record">
			  <div class="img-wrap">
			  <span class="font2">ğŸ“Š è¨˜éŒ²</span>
			  </div>
		      </a>
			<a class="locked" href="/profile">
			  <div class="img-wrap">
			  <img src="/images/lock.png" class="overlay-img-small" />
			  <span class="font2">ğŸªª ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è©³ç´°</span>
			  </div>
			</a>
			<a class="locked" href="/trophy">
			  <div class="img-wrap">
		      <img src="/images/lock.png" class="overlay-img-small" />
			  <span class="font2">ğŸ† ç§°å·ãƒ»ã‚¢ã‚¤ãƒ†ãƒ ä¸€è¦§</span>
			  </div>
			</a>
		    <a class="font2" href="/dataset/settings">âš™ï¸ è¨­å®š</a>
		  </nav>
		</details>
		
		<a class="start" th:href="@{/appletree/tree}" href="/appletree/tree">ã‚·ãƒ£ãƒœãƒ³ç•‘</a>
		
		<script>
		  document.addEventListener("click", function (e) {
		    const menu = document.querySelector(".hamburger");
		    if (!menu) return;

		    if (menu.contains(e.target)) return;

		    if (menu.hasAttribute("open")) {
		      menu.removeAttribute("open");
		    }
		  });
		</script>
		
      </section>

      <div class="meta font2">
        <span>v0.1.0</span>
      </div>
    </div>
  </main>

  <script>
    document.querySelectorAll('.btn').forEach(btn => {
      btn.addEventListener('pointerdown', e => {
        const rect = btn.getBoundingClientRect();
        btn.style.setProperty('--mx', `${e.clientX - rect.left}px`);
        btn.style.setProperty('--my', `${e.clientY - rect.top}px`);
      });
    });

    const stage = document.querySelector('.stage');
    const strength = 8; 
    let rafId = null;
    function onMove(e){
      const x = (e.clientX / window.innerWidth - 0.5) * strength;
      const y = (e.clientY / window.innerHeight - 0.5) * strength;
      if(rafId) cancelAnimationFrame(rafId);
      rafId = requestAnimationFrame(() => {
        stage.style.backgroundPosition = `calc(50% + ${x}px) 80px, center`;
      });
    }
    window.addEventListener('pointermove', onMove);
	
	

  </script>
</body>
</html>
