:root { 
  --corner-pad: clamp(8px,2vw,20px);
  --gap-rc: clamp(10px, 1.4vw, 18px);
  --briefcase-w: clamp(150px, 20vw, 230px);
}


.center-char{ grid-area: mc; display:grid; place-items:center; }
.center-char .char img{ width: clamp(400px, 150vw, 600px); }
.center-char .char-label{ text-align:center; margin-top:30px; opacity:.85; }

.center-char{
  position: relative;
  z-index: 0;
  transform: translateY(0vh);
}

@media (min-width: 1600px) {
  .center-char .char img{
    width: clamp(800px, 35vw, 1400px);
  }
}


/* 右上に固定 */
.hamburger.at-tr{
  position: fixed;
  top: var(--corner-pad,16px);
  right: var(--corner-pad,16px);
  z-index: 30;
}

.hamburger > summary{
  list-style:none;
  appearance:none;
  cursor:pointer;
}
.hamburger > summary::-webkit-details-marker{ display:none; }
.hamburger > summary::marker{ content:""; }

/* ボタン本体 */
.hambtn{
  display:grid;
  place-items:center;
  width:80px;
  height:80px;
  border-radius:12px;
  background: transparent;
  border: 2px solid #fff;
  color:#fff;
}
.bars, .bars::before, .bars::after{
  content:"";
  display:block;
  width:50px;
  height:6px;
  background:currentColor;
  border-radius:2px;
  position:relative;
  transition: transform .2s ease, opacity .2s ease;
}
.bars::before{ position:absolute; top:-13px; left:0; }
.bars::after{  position:absolute; top: 13px; left:0; }

/* メニュー本体 */
.hamburger .list{
  font-size: 20px;           
  font-weight: 600;
  position:absolute;
  top:calc(100% + 8px);
  right:0;
  min-width:300px;
  margin:0;
  padding:8px;
  display:grid;
  gap:6px;
  border-radius:12px;
  background:transparent;
  border:1px solid rgba(255,255,255,.22);
  box-shadow:0 10px 24px rgba(0,0,0,.38);
  backdrop-filter: blur(6px);
  overflow:hidden;
  max-height:0;
  opacity:0;
  transform:translateY(-6px);
  transform-origin: top right;
  transition:
    max-height .32s cubic-bezier(.2,.8,.2,1),
    opacity    .22s ease,
    transform  .28s cubic-bezier(.2,.8,.2,1);
}

.hamburger .list > *{
  opacity:0;
  transform: translateY(-6px);
  transition: opacity .24s ease, transform .28s cubic-bezier(.2,.8,.2,1);
}

.hamburger[open] .list{
  max-height:60vh;
  opacity:1;
  transform: translateY(0);
}
.hamburger[open] .list > *{ opacity:1; transform: translateY(0); }
.hamburger[open] .list > *:nth-child(1){ transition-delay: .05s; }
.hamburger[open] .list > *:nth-child(2){ transition-delay: .10s; }
.hamburger[open] .list > *:nth-child(3){ transition-delay: .15s; }
.hamburger[open] .list > *:nth-child(4){ transition-delay: .20s; }

.hamburger:not([open]) .list > *{ transition-delay: 0s !important; }

.hamburger .list a{
  display:block;
  padding:10px 12px;
  border-radius:10px;
  color:#fff;
  text-decoration:none;
  font-weight:600;
  transition: background .12s ease;
}
.hamburger .list a:hover{ background: rgba(255,255,255,.16); }

@media (min-width: 1600px){
  /* ボタン自体もちょい大きく */
  .hambtn{
    width: 100px;
    height: 100px;
    border-width: 2.7px;
  }

  /* メニュー本体を太く＆文字大きめに */
  .hamburger .list{
    font-size: clamp(20px, 1.5vw, 26px);  /* ← 文字サイズUP */
    min-width: 370px;                     /* ← 横幅少し広げる */
    padding: 14px 20px;
    gap: 10px;
  }

  /* 各項目の当たり判定も広げる */
  .hamburger .list a{
    padding: 16px 22px;
  }
}

.home-grid.layout-v2 { position: relative; }

.overlay-img-small {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 35px;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.meta {
  position: fixed;
  bottom: clamp(0.5rem, 1.2vh, 1rem);
  left: clamp(0.5rem, 1.2vw, 1rem);
  display: flex;
  align-items: center;
  gap: 12px;
  opacity: 0.8;
  font-size: clamp(12px, 1vw, 14px);
  pointer-events: none;
}

:root{
  --corner-pad: clamp(8px, 2vw, 24px); 
}

.btn-icon{
	width: 24px;
	 height: 24px;
	 margin-right: 8px;
	 vertical-align: middle;
}

.home-grid.layout-v2{
  display:grid;
  grid-template-areas:
    "tl tc tr"
    "ml mc mr"
    "bl bc br";
  grid-template-columns: 1fr auto 1fr;
  grid-auto-rows: minmax(60px, auto);
  align-items: center;
  gap: clamp(18px, 3.2vw, 28px);
}

/* 画像を重ねる */
.img-wrap {
  position: relative;
  display: inline-block;
}

.locked {
  pointer-events: none; 
  cursor: not-allowed;
  filter: grayscale(70%); 
}

.btn.small{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;       
  min-width: 120px;       
  height: 56px;
  padding: 8px 14px;
  border: 2px solid #fff;
  font-size: clamp(24px, 1.6vw, 30px);
}

@media (min-width: 1600px) {
  .btn.small{
    height: 80px;
    padding: 32px 40px;
    min-width: 160px;
    font-size: clamp(44px, 2.0vw, 50px);
  }
}

.rb-actions{
  position: fixed;
  right: calc(max(var(--corner-pad), env(safe-area-inset-right)) + 8px);
  bottom: calc(max(var(--corner-pad), env(safe-area-inset-bottom)) + 10px);
  display: flex;
  align-items: flex-end;
  gap: var(--gap-rc);
  z-index: 30;
}

.diagnose-btn{ 
  position: static; 
  transform: none;
  z-index: auto;
}

.rb-actions .diagnose-btn{
  position: static !important;
  inset: auto !important;
  z-index: auto !important;
  margin: 0;          
  flex: 0 0 auto;
}

/* 隠ボタン */
.start {
  position: absolute;
  top: clamp(65vh, 70vh, 75vh);
  left: 25%;
  transform: translateX(-50%);
  padding: clamp(10px, 2vw, 16px) clamp(28px, 4vw, 48px);
  font-size: clamp(18px, 2.2vw, 26px);
  font-weight: 700;
  color: #333 !important;
  background: none;
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 50%;
  letter-spacing: 3px;
  text-transform: uppercase;
  text-decoration: none;
  cursor: pointer;
  transition:
    color 0.2s ease,
    border-color 0.2s ease,
    text-shadow 0.2s ease,
    transform 0.2s ease,
    filter 0.2s ease;
  filter: blur(0.2px) brightness(0.8);
  opacity: 0.7;
}

/* ←カーソルが触れた瞬間に暴発 */
.start:hover {
  color: #fff;
  border-color: #fff;
  text-shadow:
    2px 0 4px #fff,
   -2px 0 4px #fff;
  filter: brightness(1.6) contrast(1.4);
  box-shadow:
    0 0 12px #fff,
    0 0 24px #fff;
  animation: startFlash 0.4s steps(2,end);
}

.start:active {
  transform: translateX(-50%) scale(0.94);
  filter: brightness(0.85);
  box-shadow: 0 0 4px rgba(255,255,255,0.1);
}

@keyframes startFlash {
  0%, 100% {
    text-shadow: none;
    filter: brightness(1);
  }
  50% {
    text-shadow:
      3px 0 0 #fff,
     -3px 0 0 #fff,
      0 2px 0 #fff;
    filter: brightness(2.8) contrast(3);
  }
}
@media (max-width: 300px){
  :root{ --g-nudge: clamp(-14px, -2vw, -24px); 
	}
}
.btn-icon{
	width: 24px;
	 height: 24px;
	 margin-right: 8px;
	 vertical-align: middle;
}

.home-grid.layout-v2{
  display:grid;
  grid-template-areas:
    "tl tc tr"
    "ml mc mr"
    "bl bc br";
  grid-template-columns: 1fr auto 1fr;
  grid-auto-rows: minmax(60px, auto);
  align-items: center;
  gap: clamp(18px, 3.2vw, 28px);
}
.diagnose-btn { 
  position: absolute;
  right: max(24px, 3vw);
  top: 50%;
  transform: translateY(-10%);
  z-index: 2;
}
