<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>りんごスレッド</title>

  <!-- CSSは head に1回だけ -->
  <link rel="stylesheet" th:href="@{/css/appletree/apple.css}">
</head>
<body>

<!-- 親りんご -->
<h2 th:text="${root.title}">タイトル</h2>
<p th:text="${root.message}">本文</p>

<hr>

<!-- 返信一覧 -->

<div th:each="msg : ${messages}">
  <p>
    <span class="msg-meta" th:text="${msg.userName} + '：'">ユーザー名：</span>
    <span th:text="${msg.message}">返信</span>
  </p>
</div>

<!-- 返信フォーム（コメント追加） -->
<form th:action="@{'/appletree/' + ${root.id} + '/reply'}" method="post">
  <input type="hidden" name="userId" value="1" /> <!-- TODO: ログインユーザーID -->
  <textarea name="message" placeholder="返信内容"></textarea>
  <button type="submit">返信する</button>
</form>

<!-- 戻る（任意） -->
<p style="width:min(860px,92vw); margin:14px auto 0;">
  <a th:href="@{/appletree/tree}" style="color:#fff; opacity:.8;">← 木に戻る</a>
</p>

</body>
</html>
